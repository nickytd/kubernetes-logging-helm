{
   "template":{
       "settings":{
         "query":{
            "default_field":[
               "log",
               "kubernetes.pod_name",
               "kubernetes.namespace_name"
            ]
         },
         "refresh_interval":"5s"
      },
      "mappings":{
         "dynamic_templates":[
            {
               "kubernetes.annotations.*/*":{
                  "mapping":{
                     "type":"keyword"
                  },
                  "match_mapping_type":"*",
                  "path_match":"kubernetes.annotations.*/*"
               }
            },
            {
               "kubernetes.labels.*":{
                  "mapping":{
                     "type":"keyword"
                  },
                  "match_mapping_type":"*",
                  "path_match":"kubernetes.labels.*"
               }
            }
         ],
         "properties":{
            "location":{
               "type":"keyword"
            },
            "log":{
               "type":"text"
            },
            "kubernetes":{
               "properties":{
                  "container_name":{
                     "type":"keyword",
                     "ignore_above":"256"
                  },
                  "container_image":{
                     "type":"keyword",
                     "ignore_above":"256"
                  },
                  "container_hash":{
                     "type":"keyword",
                     "ignore_above":"256"
                  },
                  "docker_id":{
                     "type":"keyword",
                     "ignore_above":"256"
                  },
                  "host":{
                     "type":"keyword",
                     "ignore_above":"256"
                  },
                  "namespace_name":{
                     "type":"keyword",
                     "ignore_above":"256"
                  },
                  "pod_id":{
                     "type":"keyword",
                     "ignore_above":"256"
                  },
                  "pod_name":{
                     "type":"keyword",
                     "ignore_above":"256"
                  }
               }
            }
         }
      }
   }
}
